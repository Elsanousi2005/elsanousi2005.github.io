16 ['NBHY'] Figure 2A: PS/PL partitioning: networking in PS, 32‑bit inverter datapath in PL with AXI GPIO wrappers
17 ['NBHY'] Figure 2B: End‑to‑end data flow: UDP/TCP traffic in PS and AXI‑Lite MMIO to PL for [W][R] replies.
32 ['RSQUO'] On the ZC702, the onboard Ethernet PHY is physically wired to the Zynq GEM0 interface using the board’s fixed routing. Because the RGMII and MDIO connections are already matched to the Processing System’s dedicated Ethernet capable pins, the most direct and robust configuration is to use GEM0 over MIO. This avoids unnecessary dependence on PL routing for the networking path and aligns with the board’s intended usage. It also results in a simpler failure surface during bring up: if the PS is running, the Ethernet pins are driven by the hardened peripheral, independent of any custom PL logic.
66 ['RSQUO'] The second test is the project’s custom lwIP UDP inverter application. This test is not interactive text. It defines a small binary protocol. The host sends exactly four bytes representing a 32 bit word in little endian byte order. The board writes that word into the output GPIO register, reads the inverted value from the input GPIO register, and replies with eight bytes containing the original word followed by the readback word. If the host receives a response and the second word equals the bitwise inversion of the first, then PS to PL register access is verified alongside networking.
77 ['NBHY', 'EMDASH'] To validate the PL inverter without hardware, I built a simulation‑only block design. The AXI VIP acts as a stand‑in for the PS, issuing AXI‑Lite reads and writes. Those transactions pass through SmartConnect and reach two AXI GPIO blocks—one configured as output and one as input—with a 32‑bit NOT between them. I exported the clock and reset as external ports (clk_in1_0, ext_reset_in_0) so the testbench could drive them directly. The proc_sys_reset and clocking wizard provide a realistic reset/clock environment, while the VIP gives full control of addresses and data from the testbench. This makes the simulation faithful to real AXI behavior but still simple and self‑contained for regression testing. It should be noted that I configured the Clocking Wizard IP block reset to be active low as it is set to active high by default.
79 ['NBHY'] Figure 11: Simulation‑only block design for AXI‑Lite verification (AXI VIP → SmartConnect → AXI GPIO IN/OUT with inverter)
80 ['NBHY'] A 100 MHz clock is generated in the testbench (always #5 clk_in1 = ~clk_in1;), and reset is asserted low for several cycles before being released. Once reset deasserts, the AXI VIP master issues a sequence of AXI‑Lite writes to the GPIO OUT base address (0x4121_0000) and immediately reads back from the GPIO IN base address (0x4120_0000). Each read is checked against the expected inverted value using a small pass/fail scoreboard inside the do_one() task. Test vectors cover a mix of corner cases and patterns as seen in the table below.
94 ['NBHY'] Figure 12: XSim TCL console showing AXI‑VIP PASS messages and end‑of‑simulation checks
95 ['RSQUO'] Figure 13 highlights the key AXI-Lite signals from the VIP master. clk_in1 is the 100MHz testbench clock; ext_reset is the active-low reset driven by the testbench; aclk is the AXI clock inside the BD (from the clocking wizard). m_axi_wdata[31:0] is the data written to GPIO OUT, m_axi_araddr[31:0] is the read address for GPIO IN, and m_axi_rdata[31:0] is the returned read data. resp[1:0] shows the AXI response code for each transaction, and rdata[31:0] is the testbench’s captured readback used in the comparison check.
97 ['NBHY'] Figure 13: Behavioral simulation waveform showing AXI‑Lite writes to GPIO OUT and reads from GPIO IN returning the inverted data.
98 ['RSQUO'] This system overview established the key architectural decisions behind the project. Ethernet is implemented using GEM0 over MIO because the ZC702 board routes the onboard PHY to the Processing System’s dedicated Ethernet interface. The Programmable Logic exists to provide a minimal, deterministic datapath that can be exercised through memory mapped AXI Lite register accesses. The PS reaches the PL through the AXI general purpose port and an AXI interconnect, and two AXI GPIO peripherals expose a simple register interface for write and readback. Finally, validation is performed in two layers: a generic TCP echo server test to confirm the network stack, and a custom UDP inverter protocol to confirm the combined networking and PS to PL control path.